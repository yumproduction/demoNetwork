{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Common/Preloader/Preloader.module.css","Redux/DialogsReducer.js","assets/images/logo.png","assets/images/sun.png","components/Render/Render.module.css","components/Login/Login.jsx","components/Login/LoginContainer.jsx","assets/images/preload.svg","Redux/api/api.js","components/Navbar/Nav.module.css","components/Users/Users.module.css","serviceWorker.js","components/News/News.jsx","components/Settings/Settings.jsx","components/Music/Music.jsx","components/Common/Paginator.jsx","components/Users/Users.jsx","components/Common/Preloader/Preloader.js","components/Users/User.jsx","Redux/UsersReducer.js","Redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","Redux/ProfileReducer.js","components/Profile/MyPost/Post/Post.jsx","components/Profile/MyPost/MyPost.jsx","components/Profile/MyPost/MyPostContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Navbar/Nav.jsx","Redux/appReducer.js","components/Navbar/NavContainer.jsx","components/Render/Render.jsx","components/Render/RenderContainer.jsx","Redux/SidebarReducer.js","Redux/redux-store.js","App.js","index.js","Redux/auth-reducer.js","assets/images/user.png","components/Header/Header.module.css","components/Login/Login.module.css","utils/validators/validators.js","components/FormsControls/FormsControls.js","components/Profile/MyPost/MyPost.module.css","components/FormsControls/FormsControl.module.css","components/Common/Paginator.module.css","components/Profile/MyPost/Post/Post.module.css","hoc/withAuthRedirect.js","assets/images/moon.png"],"names":["module","exports","initialState","dialog","id","name","message","text","sendMessage","newMessageBody","type","dialogsReducer","state","action","LoginReduxForm","reduxForm","form","handleSubmit","error","captchaUrl","className","classes","login","onSubmit","input","Field","placeholder","validate","requiredField","element","component","FormControl","check","src","styles","form_summary_error","LoginContainer","onSubmitForm","formData","props","email","password","rememberData","captcha","this","isAuth","to","React","Component","connect","auth","instance","axios","withCredentials","headers","baseURL","UsersAPI","getUsers","selectedPage","pageSize","get","then","response","data","unfollowUser","userId","delete","followUser","post","ProfileAPI","setUserProfile","getProfileStatus","updateProfileStatus","status","put","savePhoto","photoFile","FormData","append","AuthAPI","authMe","rememberMe","logout","Security","getCaptcha","Boolean","window","location","hostname","match","News","Settings","Music","Paginator","pageCount","Math","ceil","totalUserCount","pages","i","push","portionCount","portionSize","useState","portionNumber","setPortionNumebr","leftPortionNumber","rightPortionNumeber","wrap","cn","pagination","onClick","filter","p","map","key","pageNum","e","onPageChange","Users","users","followingInProgress","unfollow","follow","user","photos","small","userPhoto","alt","img","followed","disabled","some","btn","info","ns","city","country","Preloader","preloader","loader","User","isFetching","u","FOLLOW","UNFOLLOW","SETUSER","SET_PAGE","SET_TOTAL","TOGGLE_IS_FETCHING","FOLLOWING_PROCCESS","followSuccess","userID","unfollowSuccess","setCurrentPage","setToggleFetching","setToggleProgress","usersReducer","createSelector","usersPage","getPageSize","getTotalUsersCount","getSelectedPage","getIsFetching","getFollowingInProgress","UsersContainer","compose","dispatch","a","apiMethod","bind","actionCreator","resultCode","items","totalCount","ProfileStatusWithHooks","editMode","setEditMode","setStatus","useEffect","head","onBlur","updateStatus","onChange","currentTarget","value","ProfileInfo","profile","main","onMouseEnter","onMouseLeave","avatar","large","isOwner","addImage","target","files","length","addImg","conText","fullName","profInfo","href","contacts","facebook","website","github","jobInfo","lookingForAJobDescription","SET_USER_PROFILE","ADD_POST","SET_STATUS","DELETE_POST","SET_PHOTO","item","likes","profileReducer","newPostText","postID","Post","MyPost","memo","postElements","reverse","newPost","NewPostRedux","addPost","newPostBody","maxLengthCreator","class","profilePage","Profile","MyPostContainer","ProfileContainer","params","loggedUserId","setProfile","getStatus","refreshProfile","prevProps","prevState","snapshot","file","withRouter","withAuthRedirect","Header","header","logo","logged","log","HeaderContainer","setUserData","Navbar","navbar","activeClassName","active","nightMode","moon","sun","srcset","setMode","initialized","appReducer","NavContainer","Nav","app","DialogsContainer","lazy","Render","exact","path","render","fallback","RenderContainer","catchAllUnhandledErrors","promiseRejectionEvent","alert","console","initializeApp","addEventListener","authUser","friends","friend","sidebarReducer","reducers","combineReducers","messagePage","sidebar","authReducer","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleWare","__store__","App","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","SET_USER_DATA","SET_CAPTCHA","setCaptchaUrl","url","getCaptchaUrl","messages","stopSubmit","_error","maxLength","meta","hasError","touched","formControl","mapStateToPropsRedirect","RedirectComponent"],"mappings":"0FACAA,EAAOC,QAAU,CAAC,KAAO,0BAA0B,OAAS,4BAA4B,KAAO,0BAA0B,IAAM,yBAAyB,MAAQ,2BAA2B,SAAW,8BAA8B,OAAS,4BAA4B,QAAU,6BAA6B,QAAU,6BAA6B,MAAQ,2BAA2B,YAAc,iCAAiC,mBAAqB,0C,oBCA9bD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,OAAS,0BAA0B,KAAO,0B,sFCDjGC,EAAe,CACfC,OAAQ,CACJ,CAAEC,GAAI,EAAGC,KAAM,UACf,CAAED,GAAI,EAAGC,KAAM,UACf,CAAED,GAAI,EAAGC,KAAM,SACf,CAAED,GAAI,EAAGC,KAAM,UACf,CAAED,GAAI,EAAGC,KAAM,SACf,CAAED,GAAI,EAAGC,KAAM,WAEnBC,QAAS,CACL,CAAEF,GAAI,EAAGG,KAAM,OACf,CAAEH,GAAI,EAAGG,KAAM,eACf,CAAEH,GAAI,EAAGG,KAAM,+BAmBVC,EAAc,SAACC,GAAD,MAAqB,CAAEC,KAAM,eAAgBD,mBAGzDE,IAlBQ,WAAmC,IAAlCC,EAAiC,uDAAzBV,EAAcW,EAAW,uCACrD,OAAQA,EAAOH,MACX,IAAK,eACD,OAAO,2BACAE,GADP,IAEIN,QAAQ,GAAD,mBAAMM,EAAMN,SAAZ,CAAqB,CACxBF,GAAI,EACJG,KAAMM,EAAOJ,oBAGzB,QACI,OAAOG,K,0CC3BnBZ,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,iC,oBCC3CD,EAAOC,QAAU,CAAC,UAAY,4B,+JC4Cda,EAHOC,YAAU,CAAEC,KAAM,SAAlBD,EApCX,SAAC,GAAuC,IAAtCE,EAAqC,EAArCA,aAAcC,EAAuB,EAAvBA,MAAOC,EAAgB,EAAhBA,WAC/B,OAAO,yBAAKC,UAAWC,IAAQC,OAC3B,qCACA,0BAAMT,OAAO,GAAGU,SAAUN,EAAcG,UAAaC,IAAQL,MACzD,yBAAKI,UAAWC,IAAQG,OACpB,kBAACC,EAAA,EAAD,CAAOf,KAAM,OAAQgB,YAAa,QAASC,SAAUC,IACjDvB,KAAM,QAASwB,QAAQ,QAAQC,UAAWC,OAElD,yBAAKX,UAAWC,IAAQG,OACpB,kBAACC,EAAA,EAAD,CAAOf,KAAM,WAAYgB,YAAa,WAAYC,SAAUC,IACxDvB,KAAM,WAAYwB,QAAQ,QAAQC,UAAWC,OAErD,yBAAKX,UAAWC,IAAQW,OACpB,kBAACP,EAAA,EAAD,CAAOf,KAAM,WAAYL,KAAM,aAAcyB,UAAW,UAD5D,IACwE,2CAGvEX,GAAc,yBAAKc,IAAKd,IACxBA,GAAc,yBAAKC,UAAWC,IAAQW,OACvC,kBAACP,EAAA,EAAD,CAAOf,KAAM,OAAQgB,YAAa,UAAWC,SAAUC,IAC/CvB,KAAM,UAAWwB,QAAQ,QAAQC,UAAWC,OAGnDb,GAAS,yBAAKE,UAAWc,IAAOC,oBAC5BjB,GAIL,6BACI,+C,wBC3BVkB,E,4MAEFC,aAAe,SAACC,GACZ,EAAKC,MAAMjB,MAAMgB,EAASE,MAAOF,EAASG,SAAUH,EAASI,aAAcJ,EAASK,U,uDAIpF,OAAIC,KAAKL,MAAMM,OACJ,kBAAC,IAAD,CAAUC,GAAI,aAElB,kBAAC,EAAD,CAAgBvB,SAAUqB,KAAKP,aAAclB,WAAYyB,KAAKL,MAAMpB,iB,GAVtD4B,IAAMC,WAmBpBC,uBALS,SAACrC,GAAD,MAAW,CAC/BiC,OAAQjC,EAAMsC,KAAKL,OACnB1B,WAAYP,EAAMsC,KAAK/B,cAGa,CAAEG,WAA3B2B,CAAoCb,I,wKC1BnDpC,EAAOC,QAAU,IAA0B,qC,gCCA3C,qJAEMkD,EAAWC,SAAa,CAC1BC,iBAAiB,EACjBC,QAAS,CACL,UAAW,wCAEfC,QAAS,kDAIAC,EAAW,CACpBC,SADoB,SACXC,EAAcC,GACnB,OAAOR,EAASS,IAAT,qBAA2BF,EAA3B,kBAAiDC,IACnDE,MAAK,SAAAC,GACF,OAAOA,EAASC,SAG5BC,aAPoB,SAOPC,GACT,OAAOd,EAASe,OAAT,iBAA0BD,IAC5BJ,MAAK,SAAAC,GACF,OAAOA,EAASC,SAG5BI,WAboB,SAaTF,GACP,OAAOd,EAASiB,KAAT,iBAAwBH,IAC1BJ,MAAK,SAAAC,GACF,OAAOA,EAASC,UAKnBM,EAAa,CACtBC,eADsB,SACPL,GACX,OAAOd,EAASS,IAAT,kBAAwBK,IAC1BJ,MAAK,SAAAC,GACF,OAAOA,EAASC,SAG5BQ,iBAPsB,SAOLN,GACb,OAAOd,EAASS,IAAT,yBAA+BK,IACrCJ,MAAK,SAAAC,GACF,OAAOA,EAASC,SAGxBS,oBAbsB,SAaFC,GAChB,OAAOtB,EAASuB,IAAI,iBAAkB,CAACD,OAAQA,KAEnDE,UAhBsB,SAgBZC,GACN,IAAMtC,EAAW,IAAIuC,SAErB,OADAvC,EAASwC,OAAO,QAASF,GAClBzB,EAASuB,IAAI,gBAAiBpC,KAKhCyC,EAAU,CACnBC,OADmB,WAEf,OAAO7B,EAASS,IAAT,YAEXtC,MAJmB,SAIbkB,EAAOC,GAA4C,IAAlCwC,EAAiC,wDAAftC,EAAe,uDAAL,KAC/C,OAAOQ,EAASiB,KAAK,aAAc,CAAC5B,QAAOC,WAAUwC,aAAYtC,aAErEuC,OAPmB,WAQf,OAAO/B,EAASe,OAAO,gBAIlBiB,EAAW,CACpBC,WADoB,WAEhB,OAAOjC,EAASS,IAAT,+B,mBCrEf5D,EAAOC,QAAU,CAAC,OAAS,oBAAoB,KAAO,kBAAkB,OAAS,oBAAoB,IAAM,mB,mBCA3GD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,KAAO,oBAAoB,IAAM,mBAAmB,KAAO,oBAAoB,KAAO,oBAAoB,GAAK,kBAAkB,SAAW,wBAAwB,OAAS,sBAAsB,QAAU,uBAAuB,SAAW,0B,wCCW1QoF,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,qGCTSC,G,OANF,WACT,OAAO,yDCKIC,G,OANE,WACb,OAAO,6DCKIC,G,OAND,WACV,OAAO,wD,oFC8BIC,EA9BC,SAACtD,GAKb,IAJA,IAAIuD,EAAYC,KAAKC,KAAKzD,EAAM0D,eAAiB1D,EAAMoB,UAEnDuC,EAAQ,GAEHC,EAAI,EAAGA,GAAKL,EAAWK,IAC5BD,EAAME,KAAKD,GAIf,IAAIE,EAAeN,KAAKC,KAAKF,EAAUvD,EAAM+D,aAVtB,EAWiBC,mBAAS,GAX1B,mBAWlBC,EAXkB,KAWHC,EAXG,KAYnBC,GAAqBF,EAAgB,GAAIjE,EAAM+D,YAAa,EAC5DK,EAAsBpE,EAAM+D,YAAYE,EAC5C,OAAO,yBAAKpF,UAAWC,IAAQuF,MAC3B,yBAAKxF,UAAWyF,IAAGxF,IAAQyF,aACtBN,EAAe,GAAK,4BAAQO,QAAW,kBAAKN,EAAiBD,EAAc,KAAvD,QACpBN,EACAc,QAAO,SAAAC,GAAC,OAAIA,GAAKP,GAAqBO,GAAGN,KACzCO,KAAI,SAACD,GACN,OAAO,0BAAME,IAAOF,EAAG7F,UAAayF,IAAG,eAC9BxF,IAAQqC,aAAgBnB,EAAMmB,eAAgBuD,GAC/C5F,IAAQ+F,SACXL,QAAS,SAACM,GAAD,OAAO9E,EAAM+E,aAAaL,KAAKA,MAE5CZ,EAAcG,GAAiB,4BAAQO,QAAW,kBAAIN,EAAiBD,EAAc,KAAtD,W,QCsB7Be,EA9CH,SAAC,GAAwH,EAAtHjB,YAAsH,EAAzG3C,SAA0G,IAAhG6D,EAA+F,EAA/FA,MAAqBC,GAA0E,EAAxF/D,aAAwF,EAA1E+D,qBAAqBC,EAAqD,EAArDA,SAAUC,EAA2C,EAA3CA,OAA2C,EAAnCL,aAAmC,EAArBrB,eAG5G,OAAO,6BACC,yBAAK7E,UAAWC,IAAQmG,OACpB,yBAAKpG,UAAWC,IAAQuG,MACpB,kBAAC,IAAD,CAAS9E,GAAI,YAAc0E,EAAMpH,IAC7B,yBAAK6B,IAA2B,MAAtBuF,EAAMK,OAAOC,MACnBN,EAAMK,OAAOC,MAAQC,IACrBC,IAAI,GAAG5G,UAAWC,IAAQ4G,OAEjCT,EAAMU,SACH,4BAAQC,SAAUV,EAAoBW,MAAK,SAAAhI,GAAE,OAAIA,IAAOoH,EAAMpH,MAC1D2G,QAAS,WACLW,EAASF,EAAMpH,KAEnBgB,UAAWC,IAAQgH,KAJvB,YAKE,4BAAQF,SAAUV,EAAoBW,MAAK,SAAAhI,GAAE,OAAIA,IAAOoH,EAAMpH,MAC5D2G,QAAS,WACLY,EAAOH,EAAMpH,KAEjBgB,UAAWC,IAAQgH,KAJrB,WAMV,yBAAKjH,UAAWC,IAAQiH,MACpB,yBAAKlH,UAAWC,IAAQkH,IACpB,yBAAKnH,UAAWC,IAAQhB,MACnBmH,EAAMnH,MAEX,yBAAKe,UAAWC,IAAQoD,QACnB+C,EAAM/C,SAGf,yBAAKrD,UAAU,QACf,yBAAKA,UAAWC,IAAQkE,UACpB,yBAAKnE,UAAWC,IAAQmH,MACnB,sBADL,KAGA,yBAAKpH,UAAWC,IAAQoH,SACnB,+B,2BCjCdC,EANC,SAACnG,GACb,OAAO,yBAAKnB,UAAaC,IAAQsH,WAC7B,yBAAKvH,UAAaC,IAAQuH,WCsBnBC,EApBJ,SAAC,GAAqI,IAAnIC,EAAkI,EAAlIA,WAAYxC,EAAsH,EAAtHA,YAAa3C,EAAyG,EAAzGA,SAAU6D,EAA+F,EAA/FA,MAAO9D,EAAwF,EAAxFA,aAAc+D,EAA0E,EAA1EA,oBAAqBC,EAAqD,EAArDA,SAAUC,EAA2C,EAA3CA,OAAQL,EAAmC,EAAnCA,aAAcrB,EAAqB,EAArBA,eAGvH,OAAO,6BACH,kBAAC,EAAD,CAAWK,YAAeA,EAAa3C,SAAYA,EAAS2D,aAAcA,EAC1ErB,eAAgBA,EAAgBvC,aAAgBA,IACnDoF,EAAa,kBAAC,EAAD,MACV,6BAEQtB,EAAMN,KAAI,SAAA6B,GAAC,OAAI,kBAAC,EAAD,CAAOvB,MAASuB,EACTtB,oBAAuBA,EACvBN,IAAK4B,EAAE3I,GACPsH,SAAYA,EACZC,OAAUA,U,+CCnB1CqB,EAAS,8BACTC,EAAW,gCACXC,EAAU,gCACVC,EAAW,gCACXC,EAAY,iCACZC,EAAqB,0CACrBC,EAAqB,0CAEvBpJ,EAAe,CACfsH,MAAO,GACP7D,SAAU,EACVsC,eAAgB,EAChBvC,aAAc,EACdoF,YAAY,EACZrB,oBAAqB,GACrBnB,YAAa,IA0DJiD,EAAgB,SAACC,GAAD,MAAa,CAAE9I,KAAMsI,EAAQQ,WAC7CC,EAAkB,SAACD,GAAD,MAAa,CAAE9I,KAAMuI,EAAUO,WAEjDE,EAAiB,SAAChG,GAAD,MAAmB,CAAEhD,KAAMyI,EAAUzF,iBAEtDiG,EAAoB,SAACb,GAAD,MAAiB,CAAEpI,KAAM2I,EAAoBP,eACjEc,EAAoB,SAACd,EAAYU,GAAb,MAAyB,CAAE9I,KAAM4I,EAAoBR,aAAYU,WAsCnFK,EAlGM,WAAmC,IAAlCjJ,EAAiC,uDAAzBV,EAAcW,EAAW,uCACnD,OAAQA,EAAOH,MACX,KAAKsI,EACD,OAAO,2BACApI,GADP,IAEI4G,MAAO5G,EAAM4G,MAAMN,KAAI,SAAA6B,GACnB,OAAIA,EAAE3I,KAAOS,EAAO2I,OACT,2BAAKT,GAAZ,IAAeb,UAAU,IAEtBa,OAGnB,KAAKE,EACD,OAAO,2BACArI,GADP,IAEI4G,MAAO5G,EAAM4G,MAAMN,KAAI,SAAA6B,GACnB,OAAIA,EAAE3I,KAAOS,EAAO2I,OACT,2BAAKT,GAAZ,IAAeb,UAAU,IAEtBa,OAInB,KAAKG,EACD,OAAO,2BACAtI,GADP,IAEI4G,MAAO3G,EAAO2G,QAGtB,KAAK2B,EACD,OAAO,2BACAvI,GADP,IACc8C,aAAc7C,EAAO6C,eAGvC,KAAK0F,EACD,OAAO,2BACAxI,GADP,IACcqF,eAAgBpF,EAAOoF,iBAEzC,KAAKoD,EACD,OAAO,2BACAzI,GADP,IACckI,WAAYjI,EAAOiI,aAErC,KAAKQ,EACD,OAAO,2BACA1I,GADP,IAEI6G,oBAAqB5G,EAAOiI,WAAP,sBACblI,EAAM6G,qBADO,CACc5G,EAAO2I,SACpC5I,EAAM6G,oBAAoBT,QAAO,SAAA5G,GAAE,OAAIA,IAAOS,EAAO2I,YAEnE,QACI,OAAO5I,I,0BCjEN4G,GAAQsC,cAJQ,SAAClJ,GAC1B,OAAOA,EAAMmJ,UAAUvC,SAGwB,SAACA,GAChD,OAAOA,EAAMR,QAAO,SAAA+B,GAAC,OAAG,QAIfiB,GAAc,SAACpJ,GACxB,OAAOA,EAAMmJ,UAAUpG,UAOdsG,IAJmBH,cAAe,SAAClJ,GAC5C,OAAOA,EAAMmJ,UAAUpG,SAASqD,QAAO,SAAA+B,GAAC,OAAG,QAGb,SAACnI,GAC/B,OAAOA,EAAMmJ,UAAU9D,iBAGdiE,GAAkB,SAACtJ,GAC5B,OAAOA,EAAMmJ,UAAUrG,cAGdyG,GAAgB,SAACvJ,GAC1B,OAAOA,EAAMmJ,UAAUjB,YAGdsB,GAAyB,SAACxJ,GACnC,OAAOA,EAAMmJ,UAAUtC,qBCvBrB4C,G,4MAgBF/C,aAAe,SAACL,GAAO,IACZtD,EAAY,EAAKpB,MAAjBoB,SACP,EAAKpB,MAAMkB,SAASwD,EAAGtD,I,kEAhBN,IAAD,EACiBf,KAAKL,MAA/BmB,EADS,EACTA,aAAcC,EADL,EACKA,SACrBf,KAAKL,MAAMkB,SAASC,EAAcC,K,+BAkBlC,OAAkB,kBAAC,EAAD,CAAMmF,WAAclG,KAAKL,MAAMuG,WACjDxB,aAAc1E,KAAK0E,aACXrB,eAAgBrD,KAAKL,MAAM0D,eAC3BtC,SAAUf,KAAKL,MAAMoB,SACrBD,aAAcd,KAAKL,MAAMmB,aACzB8D,MAAO5E,KAAKL,MAAMiF,MAClBG,OAAQ/E,KAAKL,MAAMoF,OACnBD,SAAU9E,KAAKL,MAAMmF,SACrBD,oBAAqB7E,KAAKL,MAAMkF,oBAChCnB,YAAe1D,KAAKL,MAAM+D,kB,GA/BbvD,IAAMC,WA+CpBsH,gBACXrH,aAbkB,SAACrC,GACnB,MAAO,CACH4G,MAAOA,GAAM5G,GACb+C,SAAUqG,GAAYpJ,GACtBqF,eAAgBgE,GAAmBrJ,GACnC8C,aAAcwG,GAAgBtJ,GAC9BkI,WAAYqB,GAAcvJ,GAC1B6G,oBAAqB2C,GAAuBxJ,GAC5C0F,YAAa1F,EAAMmJ,UAAUzD,eAM7B,CACIqB,OF8CU,SAACvH,GACnB,8CAAO,WAAOmK,GAAP,iBAAAC,EAAA,6DACCC,EAAYjH,IAASW,WAAWuG,KAAKlH,KACrCmH,EAAgBpB,EACpBgB,EAASX,GAAkB,EAAMxJ,IAH9B,SAIcqK,EAAUrK,GAJxB,OAMqB,IANrB,OAMMwK,YACLL,EAASI,EAAcvK,IAE3BmK,EAASX,GAAkB,EAAOxJ,IAT/B,2CAAP,uDE/CgBsH,SFkCI,SAACtH,GACrB,8CAAO,WAAOmK,GAAP,iBAAAC,EAAA,6DACCC,EAAYjH,IAASW,WAAWuG,KAAKlH,KACrCmH,EAAgBlB,EACpBc,EAASX,GAAkB,EAAMxJ,IAH9B,SAIcqK,EAAUrK,GAJxB,OAKqB,IALrB,OAKMwK,YACLL,EAASI,EAAcvK,IAE3BmK,EAASX,GAAkB,EAAOxJ,IAR/B,2CAAP,uDEnC0BsJ,iBAClBE,oBAAmBnG,SFuBP,SAACC,EAAcC,GACnC,8CAAO,WAAO4G,GAAP,eAAAC,EAAA,6DACHD,EAASb,EAAehG,IACxB6G,EAASZ,GAAkB,IAFxB,SAGcnG,IAASC,SAASC,EAAcC,GAH9C,OAGCI,EAHD,OAIHwG,EAASZ,GAAkB,IAC3BY,GAZgB/C,EAYCzD,EAAK8G,MAZK,CAAEnK,KAAMwI,EAAS1B,WAa5C+C,GAXsBtE,EAWClC,EAAK+G,WAXc,CAAEpK,KAAM0I,EAAWnD,oBAK1D,iCALkB,IAACA,EAFNuB,IAOb,OAAP,yDE5BW8C,CAMbD,I,oBCfaU,IC3CahI,IAAMC,UDDH,SAACT,GAAW,IAAD,EAERgE,oBAAS,GAFD,mBAEjCyE,EAFiC,KAEvBC,EAFuB,OAIZ1E,mBAAShE,EAAMkC,QAJH,mBAIjCA,EAJiC,KAIzByG,EAJyB,KAMtCC,qBAAU,WACND,EAAU3I,EAAMkC,UACjB,CAAClC,EAAMkC,SAeV,OAAO,yBAAKrD,UAAWC,KAAQoD,QAC3B,6BACI,wBAAIrD,UAAWC,KAAQ+J,MAAvB,WAEJ,6BACI,2BAAO1K,KAAK,OAAOgB,YAAY,YAC3BN,UAAWC,KAAQG,MACnBuF,QApBW,WACnBkE,GAAY,IAoBJI,OAjBa,WACrBJ,GAAY,GACZ1I,EAAM+I,aAAa7G,IAgBX8G,SAbS,SAAClE,GAClB6D,EAAU7D,EAAEmE,cAAcC,QAalBA,MAAOhH,KAEf,6BACKuG,GACG,4BAAQ5J,UAAWC,KAAQgH,KAA3B,SAGR,gCE8BOqD,GAhEK,SAACnJ,GAAW,IAAD,EAECgE,oBAAS,GAFV,mBAExByE,EAFwB,KAEdC,EAFc,KAyB7B,OAAK1I,EAAMoJ,QAGJ,6BACL,yBAAKvK,UAAWC,KAAQuK,MACtB,yBAAKC,aApBc,WACrBZ,GAAY,IAmB2Ba,aAjBhB,WACvBb,GAAY,IAgB6D7J,UAAWC,KAAQ0K,QACxF,yBAAK9J,IAA6B,OAAxBM,EAAMoJ,QAAQ9D,QAAiD,OAA/BtF,EAAMoJ,QAAQ9D,OAAOmE,OAC9B,OAA/BzJ,EAAMoJ,QAAQ9D,OAAOC,MAAiBF,IAAOrF,EAAMoJ,QAAQ9D,OAAOmE,MAAO5K,UAAWC,KAAQ4G,MAC7F+C,GAAYzI,EAAM0J,SACjB,yBAAK7K,UAAWC,KAAQ6K,UACtB,2BAAOX,SAnBO,SAAClE,GACpBA,EAAE8E,OAAOC,MAAMC,QAChB9J,EAAMoC,UAAU0C,EAAE8E,OAAOC,MAAM,KAiBa1L,KAAK,OAAOU,UAAWC,KAAQiL,OAAQb,MAAO,OAI1F,yBAAKrK,UAAWC,KAAQkL,SACtB,wBAAInL,UAAWC,KAAQ+J,MAAO7I,EAAMoJ,QAAQa,UAC5C,yBAAKpL,UAAWC,KAAQoL,UACtB,wCAAa,uBAAGC,KAAMnK,EAAMoJ,QAAQgB,SAASC,UAAYrK,EAAMoJ,QAAQgB,SAASC,SAC5ErK,EAAMoJ,QAAQgB,SAASC,SADgE,MAE3F,uCAAY,uBAAGF,KAAyC,OAAnCnK,EAAMoJ,QAAQgB,SAASE,QAC1C,KAAOtK,EAAMoJ,QAAQgB,SAASE,SADpB,IACgCtK,EAAMoJ,QAAQgB,SAASE,QAC7DtK,EAAMoJ,QAAQgB,SAASE,QADgD,MAE7E,sCAAW,uBAAGH,KAAOnK,EAAMoJ,QAAQgB,SAASG,OACnCvK,EAAMoJ,QAAQgB,SAASG,OAA9B,MAAwCvK,EAAMoJ,QAAQgB,SAASG,OAC3DvK,EAAMoJ,QAAQgB,SAASG,OAD6C,QAI9E,yBAAK1L,UAAWC,KAAQ0L,SACtB,6BACA,wBAAI3L,UAAWC,KAAQ+J,MAAvB,aACA,iDAAmE,OAA5C7I,EAAMoJ,QAAQqB,0BACjC,IAAMzK,EAAMoJ,QAAQqB,2BACxB,kBAAC,GAAD,CAAwBvI,OAAQlC,EAAMkC,OAAQ6G,aAAc/I,EAAM+I,kBA/B/D,kBAAC,EAAD,OCjCL2B,GAAmB,0CACnBC,GAAW,kCACXC,GAAa,oCACbC,GAAc,qCACdC,GAAY,mCAGdnN,GAAe,CACfkE,KAAM,CACF,CAAEkJ,KAAM,EAAG/M,KAAM,KAAMgN,MAAO,IAC9B,CAAED,KAAM,EAAG/M,KAAM,eAAgBgN,MAAO,IACxC,CAAED,KAAM,EAAG/M,KAAM,yBAA0BgN,MAAO,IAClD,CAAED,KAAM,EAAG/M,KAAM,yBAA0BgN,MAAO,IAEtD5B,QAAS,KACTlH,OAAQ,IA2CCH,GAAiB,SAACP,GAAD,MACzB,CAAErD,KAAMuM,GAAkBtB,QAAS5H,IAE3BmH,GAAY,SAACzG,GAAD,MACpB,CAAE/D,KAAMyM,GAAY1I,WA8BV+I,GAzEQ,WAAmC,IAAlC5M,EAAiC,uDAAzBV,GAAcW,EAAW,uCACrD,OAAQA,EAAOH,MACX,KAAKwM,GACD,OAAO,2BACAtM,GADP,IAEIwD,KAAK,GAAD,mBAAMxD,EAAMwD,MAAZ,CAAkB,CAClBkJ,KAAM,EACN/M,KAAMM,EAAO4M,YACbF,MAAO,QAInB,KAAKN,GACD,OAAO,2BACArM,GADP,IAEI+K,QAAS9K,EAAO8K,UAExB,KAAKwB,GACD,OAAO,2BACAvM,GADP,IAEI6D,OAAQ5D,EAAO4D,SAEvB,KAAK2I,GACD,OAAO,2BACAxM,GADP,IAEIwD,KAAMxD,EAAMwD,KAAK4C,QAAO,SAAAC,GAAC,OAAIA,EAAE7G,KAAOS,EAAO6M,YAErD,KAAKL,GACD,OAAO,2BACAzM,GADP,IAEI+K,QAAQ,2BAAK/K,EAAM+K,SAAZ,IAAqB9D,OAAQhH,EAAOgH,WAEnD,QACI,OAAOjH,I,wCCtCJ+M,GAZF,SAACpL,GACZ,OAAO,6BACL,yBAAKnB,UAAWC,KAAQiM,MACpB/K,EAAMoJ,QAA0D,yBAAK1J,IAAoC,OAA/BM,EAAMoJ,QAAQ9D,OAAOmE,OAChE,OAA/BzJ,EAAMoJ,QAAQ9D,OAAOC,MAAiBF,IAAOrF,EAAMoJ,QAAQ9D,OAAOmE,MAAO5K,UAAWC,KAAQ4G,MAD5E,yBAAKhG,IAAO2F,IAAMxG,UAAaC,KAAQ4G,MAGzD,2BAAI1F,EAAMjC,UAEZ,yCAAqBiC,EAAMgL,Q,qCCLzBK,GAAS7K,IAAM8K,MAAK,SAAAtL,GAGxB,IAAIuL,EAAe,YAAIvL,EAAM6B,MAC5B2J,UACA7G,KAAI,SAAA9C,GACH,OAAO,kBAAC,GAAD,CAAM9D,QAAS8D,EAAK7D,KAAMgN,MAAOnJ,EAAKmJ,MAAO5B,QAASpJ,EAAMoJ,aASrE,OAAO,yBAAKvK,UAAWC,KAAQL,MAC7B,yBAAKI,UAAWC,KAAQ2M,SACtB,wBAAI5M,UAAWC,KAAQ+J,MAAvB,YACA,kBAAC6C,GAAD,CAAc1M,SARC,SAACkK,GAClBlJ,EAAM2L,QAAQzC,EAAM0C,iBASpB,yBAAK/M,UAAWC,KAAQ+C,MACtB,2BAAI0J,QAiBJG,IAZYG,aAAiB,IAYdrN,aAAU,CAAEC,KAAM,eAAlBD,EAVP,SAACwB,GACb,OAAO,0BAAM1B,OAAO,GAAGU,SAAUgB,EAAMtB,cACrC,kBAACQ,GAAA,EAAD,CAAOK,UAAWC,KAAa1B,KAAM,cACnCwB,QAAQ,WACRH,YAAa,iBACf,4BAAQ2M,MAAOhN,KAAQgH,KAAvB,gBAOWuF,MChCA3K,gBATS,SAACrC,GACvB,MAAO,CACLwD,KAAMxD,EAAM0N,YAAYlK,KACxBqJ,YAAa7M,EAAM0N,YAAYb,YAC/B9B,QAAS/K,EAAM0N,YAAY3C,WAKS,CAAEuC,QH2CnB,SAACT,GAAD,MAAkB,CAAE/M,KAAMwM,GAAUO,iBG3C5CxK,CAAsC2K,I,qBCDtCW,GARC,SAAChM,GACf,OAAO,yBAAKnB,UAAaC,KAAQuK,MAC/B,kBAAC,GAAD,CAAajH,UAAapC,EAAMoC,UAAWsH,QAAW1J,EAAM0J,QAASN,QAAWpJ,EAAMoJ,QAASlH,OAAUlC,EAAMkC,OAC/G6G,aAAgB/I,EAAM+I,eACtB,kBAACkD,GAAD,CAAiB7C,QAAWpJ,EAAMoJ,YCDhC8C,G,+KAGE,IAAIxK,EAASrB,KAAKL,MAAMkD,MAAMiJ,OAAOzK,OAChCA,IACDA,EAASrB,KAAKL,MAAMoM,cAGxB/L,KAAKL,MAAMqM,WAAW3K,GACtBrB,KAAKL,MAAMsM,UAAU5K,K,0CAIrBrB,KAAKkM,mB,yCAGUC,EAAWC,EAAWC,GACjCrM,KAAKL,MAAMkD,MAAMiJ,OAAOzK,SAAW8K,EAAUtJ,MAAMiJ,OAAOzK,QAC1DrB,KAAKkM,mB,+BAKT,OAAO,kBAAC,GAAD,eAASnK,UAAa/B,KAAKL,MAAMoC,UAAWsH,SAAYrJ,KAAKL,MAAMkD,MAAMiJ,OAAOzK,QAAYrB,KAAKL,MAAjG,CAAwGoJ,QAAS/I,KAAKL,MAAMoJ,QAC/HlH,OAAQ7B,KAAKL,MAAMkC,OACnB6G,aAAc1I,KAAKL,MAAM+I,oB,GAzBNvI,IAAMC,WAqCtBsH,gBACXrH,aARkB,SAACrC,GAAD,MAAY,CAC9B+K,QAAS/K,EAAM0N,YAAY3C,QAC3BlH,OAAQ7D,EAAM0N,YAAY7J,OAC1BkK,aAAc/N,EAAMsC,KAAK9C,GACzByC,OAAQjC,EAAMsC,KAAKL,UAIM,CAAE+L,WLyBL,SAAC3K,GAAD,8CAAY,WAAOsG,GAAP,SAAAC,EAAA,kEAClCD,EADkC,KACzBjG,GADyB,SACJD,IAAWC,eAAeL,GADtB,iGAAZ,uDKzBiB4K,ULmClB,SAAC5K,GAAD,8CAAY,WAAOsG,GAAP,eAAAC,EAAA,sEAChBnG,IAAWE,iBAAiBN,GADZ,OAC7BF,EAD6B,OAEjCwG,EAASW,GAAUnH,IAFc,2CAAZ,uDKnC6BuH,aLwC1B,SAAC7G,GAAD,8CAAY,WAAO8F,GAAP,SAAAC,EAAA,sDAGR,IAFbnG,IAAWG,oBAAoBC,GAEjCmG,YACTL,EAASW,GAAUzG,IAJa,2CAAZ,uDKxCwCE,UL6B3C,SAACuK,GAAD,8CAAU,WAAO3E,GAAP,eAAAC,EAAA,sEACVnG,IAAWM,UAAUuK,GADX,OAEE,KAD7BpL,EAD2B,QAElBC,KAAK6G,YACdL,GAViB1C,EAUC/D,EAASC,KAAKA,KAAK8D,OATxC,CAAEnH,KAAM2M,GAAWxF,YAMW,iCAPX,IAACA,IAOU,OAAV,yDK5BrBsH,IACAC,IAHW9E,CAIbmE,I,yCCnCaY,GAVA,SAAC9M,GAEd,OAAO,4BAAQnB,UAAWC,KAAQiO,QAChC,yBAAKrN,IAAKsN,KAAMnO,UAAWC,KAAQ4G,MAD9B,IACsC,wBAAI7G,UAAWC,KAAQ+J,MAAvB,UAC3C,wBAAIhK,UAAWC,KAAQiH,MAAO/F,EAAMM,OAClC,yBAAKzB,UAAaC,KAAQmO,QAASjN,EAAMjB,MAAzC,IAAgD,uBAAGyF,QAAWxE,EAAM2C,OAAO9D,UAAWC,KAAQ6D,QAA9C,WAAyE,kBAAC,IAAD,CAASpC,GAAI,SAAU1B,UAAWC,KAAQoO,KAA1C,Y,SCLzHC,G,uKAGF,OAAO,kBAAC,GAAW9M,KAAKL,W,GAHEQ,IAAMC,WAYrBC,gBALS,SAACrC,GAAD,MAAW,CACjCiC,OAAQjC,EAAMsC,KAAKL,OACnBvB,MAAOV,EAAMsC,KAAK5B,SAGoB,CAACqO,iBAAazK,aAAvCjC,CAAgDyM,I,6DCmBhDE,GA7BA,SAACrN,GACZ,OAAO,yBAAKnB,UAAWC,KAAQwO,QAC/B,yBAAKzO,UAAaC,KAAQiM,MACxB,kBAAC,IAAD,CAASxK,GAAK,WAAWgN,gBAAmBzO,KAAQ0O,QAApD,YAEF,yBAAK3O,UAAaC,KAAQiM,MACxB,kBAAC,IAAD,CAASxK,GAAK,WAAWgN,gBAAmBzO,KAAQ0O,QAApD,aAEF,yBAAK3O,UAAaC,KAAQiM,MACxB,kBAAC,IAAD,CAASxK,GAAK,QAAQgN,gBAAmBzO,KAAQ0O,QAAjD,SAEF,yBAAK3O,UAAaC,KAAQiM,MACxB,kBAAC,IAAD,CAASxK,GAAK,SAASgN,gBAAmBzO,KAAQ0O,QAAlD,UAEF,6BACA,yBAAK3O,UAAaC,KAAQiM,MACxB,kBAAC,IAAD,CAASxK,GAAK,SAASgN,gBAAmBzO,KAAQ0O,QAAlD,UAEF,6BACA,yBAAK3O,UAAaC,KAAQiM,MACxB,kBAAC,IAAD,CAASxK,GAAK,YAAYgN,gBAAmBzO,KAAQ0O,QAArD,aAEF,6BACA,yBAAK3O,UAAaC,KAAQ4G,KACxB,yBAAKhG,IAAKM,EAAMyN,UAAaC,KAAOC,KAAKlI,IAAI,GAAGmI,OAAO,GAAGpJ,QAAWxE,EAAM6N,aC1B7ElQ,GAAe,CACfmQ,aAAa,EACbL,WAAW,GAmCAM,GA/BI,WAAmC,IAAlC1P,EAAiC,uDAAzBV,GAAcW,EAAW,uCACjD,OAAQA,EAAOH,MACX,IAXe,iBAYX,OAAO,2BACAE,GADP,IAEIyP,aAAa,IAErB,IAfS,WAgBL,OAAO,2BACAzP,GADP,IAEIoP,WAAYpP,EAAMoP,YAE1B,QACI,OAAOpP,ICfb2P,G,uKAEC,OAAO,kBAACC,GAAD,CAAQJ,QAAWxN,KAAKL,MAAM6N,QAASJ,UAAapN,KAAKL,MAAMyN,gB,GAFlDjN,IAAMC,WAUlBC,gBAJM,SAACrC,GAAD,MAAW,CAC9BoP,UAAWpP,EAAM6P,IAAIT,aAIrB,CAAEI,QDWmB,iBAClB,CAAE1P,KA7BU,cCgBFuC,CACAsN,ICTTG,GAAmB3N,IAAM4N,MAAK,WAAQ,OAAO,iCAC7CvO,GAAiBW,IAAM4N,MAAK,WAAQ,OAAO,4CA6BlCC,GA3BF,SAACrO,GACV,OAAO,6BACH,4BAAQnB,UAAW,UAAoC,IAApBmB,EAAMyN,UAAqB,QAAU,MACxE,yBAAK5O,UAAW,aAAuC,IAApBmB,EAAMyN,UAAqB,YAAc,KACxE,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,yBAAK5O,UAAU,uBAEX,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOyP,OAAK,EAACC,KAAO,IAAIC,OAAU,kBAAK,kBAAC,IAAD,CAAUjO,GAAK,gBACtD,kBAAC,IAAD,CAAOgO,KAAK,oBAAoBC,OAAQ,kBAAM,kBAAC,GAAD,SAC9C,kBAAC,IAAD,CAAOF,OAAK,EAACC,KAAK,WAAWC,OAAQ,WACjC,OAAO,kBAAC,WAAD,CAAUC,SAAU,kBAAC,EAAD,OAAe,kBAACN,GAAD,UAE9C,kBAAC,IAAD,CAAOI,KAAK,QAAQC,OAAQ,kBAAM,kBAAC,EAAD,SAClC,kBAAC,IAAD,CAAOD,KAAK,SAASC,OAAQ,kBAAM,kBAAC,EAAD,SACnC,kBAAC,IAAD,CAAOD,KAAK,SAASC,OAAQ,kBAAM,kBAAC,GAAD,SACnC,kBAAC,IAAD,CAAOD,KAAK,YAAYC,OAAQ,kBAAM,kBAAC,EAAD,SACtC,kBAAC,IAAD,CAAOD,KAAK,SAASC,OAAQ,WACzB,OAAO,kBAAC,WAAD,CAAUC,SAAU,kBAAC,EAAD,OAAe,kBAAC5O,GAAD,e,+BCvB5D6O,G,4MACFC,wBAAyB,SAACC,GACtBC,MAAM,SACNC,QAAQnQ,MAAMiQ,I,kEAGdvO,KAAKL,MAAM+O,gBACXhM,OAAOiM,iBAAiB,sBAAsB,SAASJ,S,+BAKvD,OAAKvO,KAAKL,MAAM8N,YACXzN,KAAKL,MAAMM,OAMT,kBAAC,GAAWD,KAAKL,OALb,6BACH,kBAAC,IAAD,CAAUO,GAAG,WACb,kBAAC,IAAD,CAAOgO,KAAK,SAASC,OAAQ,kBAAM,kBAAC,WAAD,UAJP,yBAAK3P,UAAWC,KAAQsH,WAAW,kBAAC,EAAD,W,GAZjD5F,IAAMC,WA+BrBmM,eAAWlM,aARJ,SAACrC,GACnB,MAAO,CACHiC,OAAQjC,EAAMsC,KAAKL,OACnBN,MAAO3B,EAAM2B,MACb8N,YAAazP,EAAM6P,IAAIJ,YACvBL,UAAWpP,EAAM6P,IAAIT,aAIzB,CAAEsB,cHRuB,kBAAM,SAAC/G,GAChCA,EAASiH,gBACJ3N,MAAK,WACF0G,EARP,CAAE7J,KA3BgB,yBGuCGuC,CACHgO,K,UC1CnB/Q,GAAe,CACfuR,QAAS,CACL,CAACC,OAAQ,UACT,CAACA,OAAQ,UACT,CAACA,OAAQ,SACT,CAACA,OAAQ,UACT,CAACA,OAAQ,SACT,CAACA,OAAQ,YAUFC,GANQ,WAAmC,IAAlC/Q,EAAiC,uDAAzBV,GAG5B,OAAOU,G,oBCJPgR,GAAWC,aAAgB,CAC3BC,YAAanR,KACb2N,YAAad,GACbuE,QAASJ,GACT5H,UAAWF,EACX3G,KAAM8O,KACNhR,KAAMiR,KACNxB,IAAKH,KAIH4B,GAAmB5M,OAAO6M,sCAAwC7H,KAClE8H,GAAQC,aAAYT,GAAUM,GAAiBI,aAAgBC,QAErEjN,OAAOkN,UAAYJ,GAEJA,UCSAK,GAzBH,SAAClQ,GACX,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAU6P,MAAOA,IACf,kBAAC,GAAD,SCNRM,IAAS3B,OACP,kBAAC,IAAM4B,WAAP,KACI,kBAAC,GAAD,OAEJC,SAASC,eAAe,S9BuHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBnP,MAAK,SAAAoP,GACJA,EAAaC,gBAEdC,OAAM,SAAAjS,GACLmQ,QAAQnQ,MAAMA,EAAMZ,a,2N+BtItB8S,EAAgB,oCAEhBC,EAAc,kCAGhBnT,EAAe,CACfE,GAAI,KACJoC,MAAO,KACPlB,MAAO,KACPuB,QAAQ,EACR1B,WAAY,MAyBHwO,EAAc,SAACvP,EAAIoC,EAAOlB,EAAOuB,GAAnB,MACtB,CAAEnC,KAAM0S,EAAerP,KAAM,CAAE3D,KAAIoC,QAAOlB,QAAOuB,YAEzCyQ,EAAgB,SAACC,GAAD,MACxB,CAAE7S,KAAM2S,EAAaE,QAGb/B,EAAW,yDAAM,WAAOjH,GAAP,uBAAAC,EAAA,sEACLzF,IAAQC,SADH,OAGO,KAF7BlB,EADsB,QAGbC,KAAK6G,aAAmB,EACN9G,EAASC,KAAKA,KAAnC3D,EAD0B,EAC1BA,GAAIoC,EADsB,EACtBA,MAAOlB,EADe,EACfA,MACjBiJ,EAASoF,EAAYvP,EAAIoC,EAAOlB,GAAO,KALjB,2CAAN,uDAUXA,EAAQ,SAACkB,EAAOC,EAAUwC,EAAYtC,GAA9B,8CAA0C,WAAO4H,GAAP,iBAAAC,EAAA,sEACtCzF,IAAQzD,MAAMkB,EAAOC,EAAUwC,EAAYtC,GADL,OAG1B,KAF7BmB,EADuD,QAG9CC,KAAK6G,WACdL,EAASiH,MAGuB,KAA7B1N,EAASC,KAAK6G,YACbL,EAASiJ,KAETlT,EAAUwD,EAASC,KAAK0P,SAASpH,OAAS,EAC1CvI,EAASC,KAAK0P,SAAS,GAAK,0BAChClJ,EAASmJ,YAAW,QAChB,CAAEC,OAAQrT,MAbyC,2CAA1C,uDAiBR4E,EAAS,yDAAM,WAAOqF,GAAP,SAAAC,EAAA,sEACHzF,IAAQG,SADL,OAGS,IAHT,OAGXnB,KAAK6G,YACdL,EAASoF,EAAY,KAAM,KAAM,MAAM,IAJnB,2CAAN,uDAQT6D,EAAgB,yDAAM,WAAOjJ,GAAP,iBAAAC,EAAA,sEACVrF,IAASC,aADC,OAC3BtB,EAD2B,OAEzByP,EAAMzP,EAASC,KAAKwP,IAC1BhJ,EAAS+I,EAAcC,IAHQ,2CAAN,uDAOdvB,IAtEK,WAAmC,IAAlCpR,EAAiC,uDAAzBV,EAAcW,EAAW,uCAClD,OAAQA,EAAOH,MAEX,KAAK0S,EACD,OAAO,2BACAxS,GACAC,EAAOkD,MAElB,IArBmB,yCAsBf,OAAO,2BACAnD,GADP,IACckI,WAAYjI,EAAOiI,aAErC,KAAKuK,EACD,OAAO,2BACAzS,GADP,IACcO,WAAYN,EAAO0S,MAErC,QACI,OAAO3S,K,mBClCnBZ,EAAOC,QAAU,IAA0B,kC,mBCC3CD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,KAAO,qBAAqB,IAAM,oBAAoB,KAAO,qBAAqB,IAAM,oBAAoB,OAAS,uBAAuB,OAAS,yB,mBCAvMD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,KAAO,oBAAoB,MAAQ,qBAAqB,MAAQ,uB,gCCD/G,oEAAO,IAAM2B,EAAgB,SAAC6J,GAC1B,IAAIA,EAEJ,MAAO,uBAGE2C,EAAmB,SAACwF,GAAD,OAAe,SAACnI,GAC5C,GAAIA,GAASA,EAAMY,OAAOuH,EAAW,MAAM,sBAAN,OAA6BA,EAA7B,Q,gHCH5B7R,G,MAAc,SAAC,GAA+B,IAA7BP,EAA4B,EAA5BA,MAAOqS,EAAqB,EAArBA,KAAStR,EAAY,gCAChDuR,EAAWD,EAAKE,SAAWF,EAAK3S,MACtC,OAAO,yBAAKE,UAAWC,IAAQ2S,YAAc,KAAOF,EAAWzS,IAAQH,MAAQ,KACxD,aAAlBqB,EAAMV,QAAyB,8CAAcL,EAAWe,IAAW,2CAAWf,EAAWe,IACxFuR,EAAW,8BAAOD,EAAK3S,OAAgB,S,mBCPjDlB,EAAOC,QAAU,CAAC,KAAO,qBAAqB,KAAO,uB,mBCArDD,EAAOC,QAAU,CAAC,YAAc,kCAAkC,MAAQ,4BAA4B,mBAAqB,2C,mBCA3HD,EAAOC,QAAU,CAAC,KAAO,wBAAwB,WAAa,8BAA8B,aAAe,kC,mBCA3GD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,IAAM,oB,sICG9CgU,EAA0B,SAACrT,GAAD,MAAY,CACtCiC,OAAQjC,EAAMsC,KAAKL,SAEVuM,EAAmB,SAACpM,GAAe,IACtCkR,EADqC,uKAGnC,OAAKtR,KAAKL,MAAMM,OAET,kBAACG,EAAcJ,KAAKL,OAFI,kBAAC,IAAD,CAAUO,GAAG,eAHT,GACXC,IAAMC,WAUtC,OAFmCC,YAAQgR,EAARhR,CAAiCiR,K,mBChBxElU,EAAOC,QAAU,IAA0B,mC","file":"static/js/main.a474d65c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"head\":\"ProfileInfo_head__141YR\",\"avatar\":\"ProfileInfo_avatar__1Vxo2\",\"main\":\"ProfileInfo_main__2_0an\",\"img\":\"ProfileInfo_img__1Y420\",\"input\":\"ProfileInfo_input__2hiC7\",\"addImage\":\"ProfileInfo_addImage__1v5rT\",\"addImg\":\"ProfileInfo_addImg__3La_r\",\"conText\":\"ProfileInfo_conText__qm3fO\",\"jobInfo\":\"ProfileInfo_jobInfo__3VmdI\",\"error\":\"ProfileInfo_error__12c8N\",\"formControl\":\"ProfileInfo_formControl__2zGF8\",\"form_summary_error\":\"ProfileInfo_form_summary_error__2rHMC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__1xlgK\",\"loader\":\"Preloader_loader__1D_oK\",\"spin\":\"Preloader_spin__2rxD8\"};","let initialState = {\r\n    dialog: [\r\n        { id: 1, name: 'Mekhri' },\r\n        { id: 2, name: 'Madina' },\r\n        { id: 3, name: 'Iroda' },\r\n        { id: 4, name: 'Alyona' },\r\n        { id: 5, name: 'Katya' },\r\n        { id: 6, name: 'Feruza' }\r\n    ],\r\n    message: [\r\n        { id: 1, text: 'Hey' },\r\n        { id: 2, text: 'How u doin?' },\r\n        { id: 3, text: 'Well Im doin just fine...' },\r\n    ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SEND-MESSAGE':\r\n            return {\r\n                ...state,\r\n                message: [...state.message, {\r\n                    id: 4,\r\n                    text: action.newMessageBody\r\n                }],\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessage = (newMessageBody) => ({ type: 'SEND-MESSAGE', newMessageBody });\r\n\r\n\r\nexport default dialogsReducer;","module.exports = __webpack_public_path__ + \"static/media/logo.1f0524e0.png\";","module.exports = __webpack_public_path__ + \"static/media/sun.5b98826e.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Render_preloader__2uQqK\"};","import React from 'react';\r\nimport classes from './Login.module.css'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { FormControl } from '../FormsControls/FormsControls';\r\nimport { requiredField } from '../../utils/validators/validators';\r\nimport styles from './../FormsControls/FormsControl.module.css'\r\nlet Login = ({handleSubmit, error, captchaUrl}) => {\r\n    return <div className={classes.login}>\r\n        <h1>Login</h1>        \r\n        <form action=\"\" onSubmit={handleSubmit} className = {classes.form}>\r\n            <div className={classes.input}>\r\n                <Field type={'text'} placeholder={'Login'} validate={requiredField}\r\n                    name={'email'} element='input' component={FormControl} />\r\n            </div>\r\n            <div className={classes.input}>\r\n                <Field type={'password'} placeholder={'Password'} validate={requiredField}\r\n                    name={'password'} element='input' component={FormControl} />\r\n            </div>\r\n            <div className={classes.check}>\r\n                <Field type={'checkbox'} name={'rememberMe'} component={'input'} /> <p>remember me</p>\r\n            </div>\r\n\r\n            {captchaUrl && <img src={captchaUrl}/>}\r\n            {captchaUrl && <div className={classes.check}>\r\n            <Field type={'text'} placeholder={'Captcha'} validate={requiredField}\r\n                    name={'captcha'} element='input' component={FormControl} />\r\n            </div>}\r\n\r\n            {error && <div className={styles.form_summary_error}>\r\n                {error}\r\n\r\n            </div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n}\r\n\r\n\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(Login);\r\n\r\n\r\nexport default (LoginReduxForm);","import React from 'react';\r\nimport LoginReduxForm from './Login';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../Redux/auth-reducer';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\n\r\nclass LoginContainer extends React.Component {\r\n\r\n    onSubmitForm = (formData) => {\r\n        this.props.login(formData.email, formData.password, formData.rememberData, formData.captcha)\r\n    }\r\n\r\n    render() {\r\n        if (this.props.isAuth) {\r\n            return <Redirect to={'/profile'} />\r\n        }\r\n        return <LoginReduxForm onSubmit={this.onSubmitForm} captchaUrl={this.props.captchaUrl}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) =>({\r\n    isAuth: state.auth.isAuth,\r\n    captchaUrl: state.auth.captchaUrl\r\n})\r\n\r\nexport default connect(mapStateToProps, { login })(LoginContainer);","module.exports = __webpack_public_path__ + \"static/media/preload.d932485d.svg\";","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"5583a7fb-3e8c-4d0c-924e-60b4f6780534\"\r\n    },\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n})\r\n\r\n\r\nexport const UsersAPI = {\r\n    getUsers(selectedPage, pageSize) {\r\n        return instance.get(`users?page=${selectedPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n    },\r\n    unfollowUser(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n    },\r\n    followUser(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n    }\r\n}\r\n\r\nexport const ProfileAPI = {\r\n    setUserProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n    },\r\n    getProfileStatus(userId){\r\n        return instance.get(`profile/status/${userId}`)\r\n        .then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    updateProfileStatus(status){\r\n        return instance.put('profile/status', {status: status});\r\n    },\r\n    savePhoto(photoFile){\r\n        const formData = new FormData;\r\n        formData.append('image', photoFile)\r\n        return instance.put('profile/photo', formData);\r\n    }\r\n}\r\n\r\n\r\nexport const AuthAPI = {\r\n    authMe() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe=false, captcha = null){\r\n        return instance.post('auth/login', {email, password, rememberMe, captcha})\r\n    },\r\n    logout(){\r\n        return instance.delete('auth/login')\r\n    }\r\n}\r\n\r\nexport const Security = {\r\n    getCaptcha() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Nav_navbar__M_8_K\",\"item\":\"Nav_item__2ILu5\",\"active\":\"Nav_active__37XM8\",\"img\":\"Nav_img__1wmAT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__22x6e\",\"wrap\":\"Users_wrap__1RIiQ\",\"img\":\"Users_img__1Icxs\",\"user\":\"Users_user__3ZrW0\",\"info\":\"Users_info__3qjAF\",\"ns\":\"Users_ns__2xJXv\",\"location\":\"Users_location__3GkJF\",\"status\":\"Users_status__FYyR3\",\"country\":\"Users_country__2V7ta\",\"disabled\":\"Users_disabled__2-4If\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport classes from './News.module.css';\r\n\r\nconst News = () =>{\r\n    return <div>\r\n      Here are news!!!!!!!!!\r\n    </div>\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport classes from './Settings.module.css';\r\n\r\nconst Settings = () =>{\r\n    return <div>\r\n      Here are settings!!!!!!!!!\r\n    </div>\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport classes from './Music.module.css';\r\n\r\nconst Music = () =>{\r\n    return <div>\r\n      Here is music!!!!!!!!\r\n    </div>\r\n}\r\n\r\nexport default Music;","import React, { useState } from 'react'\r\nimport classes from './Paginator.module.css';\r\nimport cn from 'classnames';\r\n\r\nlet Paginator = (props) => {\r\n    let pageCount = Math.ceil(props.totalUserCount / props.pageSize);\r\n\r\n    let pages = [];\r\n\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n   \r\n    let portionCount = Math.ceil(pageCount/props.portionSize);\r\n    let [portionNumber, setPortionNumebr] = useState(1);\r\n    let leftPortionNumber = (portionNumber - 1)* props.portionSize +1;\r\n    let rightPortionNumeber = props.portionSize*portionNumber;\r\n    return <div className={classes.wrap}>\r\n        <div className={cn(classes.pagination)}>\r\n            {portionNumber >1 && <button onClick = {()=> setPortionNumebr(portionNumber-1)}>Prev</button>}\r\n            {pages\r\n            .filter(p => p >= leftPortionNumber && p<=rightPortionNumeber)\r\n            .map((p) =>{\r\n            return <span key = {p} className = {cn({\r\n                    [classes.selectedPage] : props.selectedPage ===p},\r\n                    classes.pageNum)\r\n               } onClick={(e) => props.onPageChange(p)}>{p}</span>\r\n            })}\r\n            {portionCount >portionNumber && <button onClick = {()=>setPortionNumebr(portionNumber+1)}>Next</button>}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import React from 'react'\r\nimport classes from './Users.module.css';\r\nimport userPhoto from '../../assets/images/user.png'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nlet Users = ({ portionSize, pageSize, users, selectedPage, followingInProgress, unfollow, follow, onPageChange, totalUserCount }) => {\r\n\r\n\r\n    return <div>\r\n            <div className={classes.users}>\r\n                <div className={classes.user}>\r\n                    <NavLink to={'/profile/' + users.id}>\r\n                        <img src={users.photos.small != null ?\r\n                            users.photos.small : userPhoto}\r\n                            alt=\"\" className={classes.img} />\r\n                    </NavLink>\r\n                    {users.followed ?\r\n                        <button disabled={followingInProgress.some(id => id === users.id)}\r\n                            onClick={() => {\r\n                                unfollow(users.id);\r\n                            }}\r\n                            className={classes.btn}>Unfollow</button>\r\n                        : <button disabled={followingInProgress.some(id => id === users.id)}\r\n                            onClick={() => {\r\n                                follow(users.id);\r\n                            }}\r\n                            className={classes.btn}>Follow</button>}\r\n                </div>\r\n                <div className={classes.info}>\r\n                    <div className={classes.ns}>\r\n                        <div className={classes.name}>\r\n                            {users.name}\r\n                        </div>\r\n                        <div className={classes.status}>\r\n                            {users.status}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"gap\"></div>\r\n                    <div className={classes.location}>\r\n                        <div className={classes.city}>\r\n                            {\"users.location.city\"},\r\n                        </div>\r\n                        <div className={classes.country}>\r\n                            {\"users.location.country\"}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    </div>\r\n}\r\n\r\nexport default Users;","import React from 'react'\r\nimport preloader from './../../../assets/images/preload.svg'\r\nimport classes from './Preloader.module.css'\r\n\r\nlet Preloader = (props) =>{\r\n    return <div className = {classes.preloader}>\r\n        <div className = {classes.loader}></div>\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","import React from 'react'\r\nimport classes from './Users.module.css';\r\nimport userPhoto from '../../assets/images/user.png'\r\nimport { NavLink } from 'react-router-dom';\r\nimport Paginator from '../Common/Paginator';\r\nimport Users from './Users';\r\nimport Preloader from '../Common/Preloader/Preloader';\r\n\r\nlet User = ({ isFetching, portionSize, pageSize, users, selectedPage, followingInProgress, unfollow, follow, onPageChange, totalUserCount }) => {\r\n\r\n\r\n    return <div>\r\n        <Paginator portionSize = {portionSize} pageSize = {pageSize}onPageChange={onPageChange} \r\n        totalUserCount={totalUserCount} selectedPage = {selectedPage}/>\r\n    {isFetching ? <Preloader /> : \r\n        <div>\r\n            {\r\n                users.map(u => <Users users = {u}\r\n                                      followingInProgress = {followingInProgress}\r\n                                      key={u.id}\r\n                                      unfollow = {unfollow}\r\n                                      follow = {follow}/>)\r\n            }\r\n        </div>\r\n}\r\n    </div>\r\n}\r\n\r\nexport default User;","import { UsersAPI } from \"./api/api\";\r\n\r\nconst FOLLOW = 'webmax-network/users/FOLLOW';\r\nconst UNFOLLOW = 'webmax-network/users/UNFOLLOW';\r\nconst SETUSER = 'webmax-network/users/SET-USER';\r\nconst SET_PAGE = 'webmax-network/users/SET-PAGE';\r\nconst SET_TOTAL = 'webmax-network/users/SET_TOTAL';\r\nconst TOGGLE_IS_FETCHING = 'webmax-network/users/TOGGLE_IS_FETCHING';\r\nconst FOLLOWING_PROCCESS = 'webmax-network/users/FOLLOWING_PROCCESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUserCount: 0,\r\n    selectedPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n    portionSize: 10\r\n};\r\n\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return { ...u, followed: true }\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return { ...u, followed: false }\r\n                    }\r\n                    return u;\r\n                })\r\n\r\n            }\r\n        case SETUSER:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n\r\n        case SET_PAGE:\r\n            return {\r\n                ...state, selectedPage: action.selectedPage\r\n            }\r\n\r\n        case SET_TOTAL:\r\n            return {\r\n                ...state, totalUserCount: action.totalUserCount\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        case FOLLOWING_PROCCESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching ?\r\n                    [...state.followingInProgress, action.userID]\r\n                    : state.followingInProgress.filter(id => id !== action.userID)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userID) => ({ type: FOLLOW, userID });//AC -> Action Creator\r\nexport const unfollowSuccess = (userID) => ({ type: UNFOLLOW, userID });\r\nexport const setUser = (users) => ({ type: SETUSER, users });\r\nexport const setCurrentPage = (selectedPage) => ({ type: SET_PAGE, selectedPage });\r\nexport const setTotalUsers = (totalUserCount) => ({ type: SET_TOTAL, totalUserCount });\r\nexport const setToggleFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const setToggleProgress = (isFetching, userID) => ({ type: FOLLOWING_PROCCESS, isFetching, userID });\r\n\r\nexport const getUsers = (selectedPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(setCurrentPage(selectedPage));\r\n        dispatch(setToggleFetching(true));\r\n        let data = await UsersAPI.getUsers(selectedPage, pageSize);\r\n        dispatch(setToggleFetching(false));\r\n        dispatch(setUser(data.items));\r\n        dispatch(setTotalUsers(data.totalCount));\r\n    }\r\n}\r\nexport const unfollow = (id) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = UsersAPI.followUser.bind(UsersAPI);\r\n        let actionCreator = unfollowSuccess;\r\n        dispatch(setToggleProgress(true, id));\r\n        let data = await apiMethod(id)\r\n        if (data.resultCode === 0) {\r\n            dispatch(actionCreator(id));\r\n        }\r\n        dispatch(setToggleProgress(false, id));\r\n    }\r\n}\r\nexport const follow = (id) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = UsersAPI.followUser.bind(UsersAPI);\r\n        let actionCreator = followSuccess;\r\n        dispatch(setToggleProgress(true, id));\r\n        let data = await apiMethod(id);\r\n\r\n        if (data.resultCode === 0) {\r\n            dispatch(actionCreator(id));\r\n        }\r\n        dispatch(setToggleProgress(false, id));\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import { createSelector } from \"reselect\"\r\n\r\nexport const usersSelector = (state) =>{\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const users = createSelector(usersSelector, (users)=>{\r\n    return users.filter(u=> true);\r\n})\r\n\r\n\r\nexport const getPageSize = (state) =>{\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getPageSizeSuper = createSelector((state)=>{\r\n    return state.usersPage.pageSize.filter(u=> true);\r\n})\r\n\r\nexport const getTotalUsersCount = (state) =>{\r\n    return state.usersPage.totalUserCount\r\n}\r\n\r\nexport const getSelectedPage = (state) =>{\r\n    return state.usersPage.selectedPage\r\n}\r\n\r\nexport const getIsFetching = (state) =>{\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) =>{\r\n    return state.usersPage.followingInProgress\r\n}\r\n\r\n","import React from 'react'\r\nimport User from './User';\r\nimport Preloader from '../Common/Preloader/Preloader';\r\nimport { connect } from 'react-redux';\r\nimport { unfollow, follow, getUsers, setCurrentPage, setToggleProgress } from './../../Redux/UsersReducer';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { users, getPageSize, getSelectedPage, getTotalUsersCount, getIsFetching, getFollowingInProgress, usersSuper } from '../../Redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const {selectedPage, pageSize} = this.props;\r\n        this.props.getUsers(selectedPage, pageSize);\r\n\r\n        // this.props.setToggleFetching(true);\r\n        // UsersAPI.getUsers(this.props.selectedPage, this.props.pageSize)\r\n        //     .then(data => {\r\n        //         this.props.setToggleFetching(false);\r\n        //         this.props.setUser(data.items);\r\n        //         this.props.setTotalUsers(data.totalCount);\r\n        //     });\r\n\r\n    }\r\n\r\n    onPageChange = (p) => {\r\n        const {pageSize} = this.props;\r\n        this.props.getUsers(p, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return            <User isFetching = {this.props.isFetching}\r\n        onPageChange={this.onPageChange}\r\n                totalUserCount={this.props.totalUserCount}\r\n                pageSize={this.props.pageSize}\r\n                selectedPage={this.props.selectedPage}\r\n                users={this.props.users}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                followingInProgress={this.props.followingInProgress}\r\n                portionSize = {this.props.portionSize} />\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: users(state),\r\n        pageSize: getPageSize(state),\r\n        totalUserCount: getTotalUsersCount(state),\r\n        selectedPage: getSelectedPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        portionSize: state.usersPage.portionSize\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,\r\n        {\r\n            follow, unfollow, setCurrentPage,\r\n            setToggleProgress, getUsers\r\n        })\r\n)(UsersContainer);","import React, { useEffect, useState} from 'react';\r\nimport classes from './ProfileInfo.module.css';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(()=>{\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    let activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n\r\n    let deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n\r\n    let onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n    return <div className={classes.status}>\r\n        <div>\r\n            <h1 className={classes.head}>Status</h1>\r\n        </div>\r\n        <div>\r\n            <input type=\"text\" placeholder='No status'\r\n                className={classes.input}\r\n                onClick={activateEditMode}\r\n                onBlur={deactivateEditMode}\r\n                onChange= {onStatusChange}\r\n                value={status} />\r\n        </div>\r\n        <div>\r\n            {editMode &&\r\n                <button className={classes.btn}>Save</button>\r\n            }\r\n        </div>\r\n        <br />\r\n    </div>\r\n}\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import React from 'react';\r\nimport classes from './ProfileInfo.module.css';\r\n\r\n\r\nclass ProfileStatus extends React.Component {\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status,\r\n        validate: true,\r\n        message: null\r\n    }\r\n\r\n    activateEditMode = () => {\r\n        this.setState({\r\n            editMode: true\r\n        });\r\n    }\r\n\r\n    deactivateEditMode = () => {\r\n        this.setState({\r\n            editMode: false,\r\n        });\r\n        this.props.updateStatus(this.state.status);\r\n    }\r\n\r\n    onStatusChange = (e) => {\r\n\r\n        this.setState({\r\n            status: e.currentTarget.value\r\n        });\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.status !== this.props.status)\r\n            this.setState({ status: this.props.status });\r\n    }\r\n\r\n    maxLengthCreator = (e) => {\r\n        if (e.currentTarget.value.length > 15) {\r\n            this.setState({\r\n                validate: false,\r\n                message: 'Status should not be more than 15 symblos'\r\n            });\r\n            return;\r\n        }\r\n        else {\r\n            this.onStatusChange(e);\r\n            this.setState({\r\n                validate: true\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <div className={classes.status}>\r\n            <div>\r\n                <h1 className={classes.head}>Status</h1>\r\n            </div>\r\n\r\n\r\n            {/* <this.AddStatusRedux onSubmit = {this.onStatusChange}/> */}\r\n\r\n\r\n            <div>\r\n                <input type=\"text\" placeholder='No status'\r\n                    className={classes.input + ' ' + this.state.validate === false ? classes.error : ''}\r\n                    onChange={this.maxLengthCreator}\r\n                    onClick={this.activateEditMode}\r\n                    onBlur={this.deactivateEditMode}\r\n                    value={this.state.status} />\r\n            </div>\r\n            <div className={classes.error}>{this.state.message}</div>\r\n            <div>\r\n                {this.state.editMode ? <button className={classes.btn}>Save</button> : null}\r\n            </div>\r\n            <br />\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default ProfileStatus;\r\n","import React from 'react';\r\nimport classes from './ProfileInfo.module.css';\r\nimport user from '../../../assets/images/user.png';\r\nimport Preloader from '../../Common/Preloader/Preloader';\r\nimport ProfileStatus from './ProfileStatus'\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n  let [editMode, setEditMode] = useState(false);\r\n\r\n  // let [status, setStatus] = useState(props.status);\r\n\r\n  // useEffect(() => {\r\n  //   setStatus(props.status);\r\n  // }, [props.status]);\r\n\r\n  let activateEditMode = () => {\r\n    setEditMode(true);\r\n  }\r\n  let deactivateEditMode = () => {\r\n    setEditMode(false);\r\n  }\r\n  let onUserPhotoChange = (e) =>{\r\n    if(e.target.files.length){\r\n      props.savePhoto(e.target.files[0]);\r\n    }\r\n  }\r\n\r\n  // let onStatusChange = (e) => {\r\n  //   setStatus(e.currentTarget.value);\r\n  // }\r\n  if (!props.profile) {\r\n    return <Preloader />\r\n  }\r\n  return <div>\r\n    <div className={classes.main}>\r\n      <div onMouseEnter={activateEditMode} onMouseLeave={deactivateEditMode} className={classes.avatar}>\r\n        <img src={props.profile.photos !==null && props.profile.photos.large === null ||\r\n          props.profile.photos.small === null ? user : props.profile.photos.large} className={classes.img} />\r\n        {editMode && props.isOwner &&\r\n          <div className={classes.addImage} >\r\n            <input onChange = {onUserPhotoChange} type=\"file\" className={classes.addImg} value =\"\"/>\r\n          </div>\r\n        }\r\n      </div>\r\n      <div className={classes.conText}>\r\n        <h1 className={classes.head}>{props.profile.fullName}</h1>\r\n        <div className={classes.profInfo}>\r\n          <p>Facebook: <a href={props.profile.contacts.facebook}>{!props.profile.contacts.facebook ? '-'\r\n            : props.profile.contacts.facebook}</a></p>\r\n          <p>WebSite: <a href={props.profile.contacts.website === null ?\r\n            null : props.profile.contacts.website}> {!props.profile.contacts.website ? '-'\r\n              : props.profile.contacts.website}</a></p>\r\n          <p>GitHub: <a href={!props.profile.contacts.github ?\r\n            null : props.profile.contacts.github}>{!props.profile.contacts.github ? '-'\r\n              : props.profile.contacts.github}</a></p>\r\n        </div>\r\n      </div>\r\n      <div className={classes.jobInfo}>\r\n        <br />\r\n        <h1 className={classes.head}>Job State</h1>\r\n        <p>Looking For A Job: {props.profile.lookingForAJobDescription === null\r\n          ? '-' : props.profile.lookingForAJobDescription}</p>\r\n        <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus} />\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n}\r\n\r\nexport default ProfileInfo;","import { ProfileAPI } from \"./api/api\";\r\n\r\nconst SET_USER_PROFILE = 'webmax-network/profile/SET_USER_PROFILE';\r\nconst ADD_POST = 'webmax-network/profile/ADD_POST';\r\nconst SET_STATUS = 'webmax-network/profile/SET_STATUS';\r\nconst DELETE_POST = 'webmax-network/profile/DELETE_POST';\r\nconst SET_PHOTO = 'webmax-network/profile/SET_PHOTO';\r\n\r\n\r\nlet initialState = {\r\n    post: [\r\n        { item: 1, text: 'Hi', likes: 15 },\r\n        { item: 2, text: 'How are you?', likes: 20 },\r\n        { item: 3, text: 'Well Im doin just fine', likes: 14 },\r\n        { item: 4, text: 'I lied Im dying inside', likes: 5 }\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n}\r\n\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            return {\r\n                ...state, // \r\n                post: [...state.post, {\r\n                    item: 5,\r\n                    text: action.newPostText,\r\n                    likes: 45\r\n                }],// \r\n            }\r\n\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                post: state.post.filter(p => p.id !== action.postID)\r\n            }\r\n        case SET_PHOTO:\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPost = (newPostText) => ({ type: ADD_POST, newPostText });\r\n\r\nexport const setUserProfile = (data) =>\r\n    ({ type: SET_USER_PROFILE, profile: data });\r\n\r\nexport const setStatus = (status) =>\r\n    ({ type: SET_STATUS, status });\r\n\r\nexport const deletePost = (postID) =>\r\n    ({ type: DELETE_POST, postID });\r\n\r\nexport const setPhoto = (photos) =>\r\n    ({ type: SET_PHOTO, photos });\r\n\r\nexport const setProfile = (userId) => async (dispatch) => {\r\n    dispatch(setUserProfile(await ProfileAPI.setUserProfile(userId)));\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await ProfileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0)\r\n        dispatch(setPhoto(response.data.data.photos));\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let data = await ProfileAPI.getProfileStatus(userId);\r\n    dispatch(setStatus(data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = ProfileAPI.updateProfileStatus(status)\r\n\r\n    if (response.resultCode === 0)\r\n        dispatch(setStatus(status));\r\n}\r\n\r\nexport default profileReducer;","import React from 'react';\r\nimport classes from './Post.module.css';\r\nimport user from '../../../../assets/images/user.png'\r\n\r\nconst Post = (props) => {\r\n  return <div>\r\n    <div className={classes.item}>\r\n      {!props.profile ? <img src = {user} className = {classes.img}/> : <img src={props.profile.photos.large === null ||\r\n        props.profile.photos.small === null ? user : props.profile.photos.large} className={classes.img} />}\r\n  \r\n      <p>{props.message}</p>\r\n    </div>\r\n    <span>Likes: </span>{props.likes}\r\n  </div>\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport classes from './MyPost.module.css';\r\nimport Post from './Post/Post';\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { requiredField, maxLengthCreator } from './../../../utils/validators/validators'\r\nimport { FormControl } from './../../FormsControls/FormsControls'\r\n\r\nconst MyPost = React.memo(props => {\r\n\r\n\r\n  let postElements = [...props.post]\r\n  .reverse()\r\n  .map(post => {\r\n    return <Post message={post.text} likes={post.likes} profile={props.profile} />\r\n  });\r\n\r\n\r\n  let onPostSubmit = (value) => {\r\n    props.addPost(value.newPostBody);\r\n  }\r\n\r\n\r\n  return <div className={classes.form}>\r\n    <div className={classes.newPost}>\r\n      <h1 className={classes.head}>My posts</h1>\r\n      <NewPostRedux onSubmit={onPostSubmit} />\r\n    </div>\r\n    <div className={classes.post}>\r\n      <p>{postElements}</p>\r\n    </div>\r\n  </div>\r\n})\r\n\r\nconst maxLength = maxLengthCreator(10);\r\n\r\nlet NewPost = (props) => {\r\n  return <form action=\"\" onSubmit={props.handleSubmit}>\r\n    <Field component={FormControl} name={'newPostBody'}\r\n      element='textarea'\r\n      placeholder={'Send news...'}/>\r\n    <button class={classes.btn}>Publish</button>\r\n  </form>\r\n}\r\n\r\n\r\nconst NewPostRedux = reduxForm({ form: 'newPostBody' })(NewPost);\r\n\r\nexport default MyPost;","import React from 'react';\r\nimport { addPost }\r\n  from '../../../Redux/ProfileReducer';\r\nimport MyPost from './MyPost';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    post: state.profilePage.post,\r\n    newPostText: state.profilePage.newPostText,\r\n    profile: state.profilePage.profile\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, { addPost })(MyPost);;","import React from 'react';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPostContainer from './MyPost/MyPostContainer';\r\nimport classes from './Profile.module.css';\r\n\r\n\r\nconst Profile = (props) => {\r\n  return <div className = {classes.main}>\r\n    <ProfileInfo savePhoto = {props.savePhoto} isOwner = {props.isOwner} profile = {props.profile} status = {props.status} \r\n    updateStatus = {props.updateStatus}/>\r\n    <MyPostContainer profile = {props.profile} />\r\n  </div>\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport { setProfile, getStatus, updateStatus, savePhoto } from '../../Redux/ProfileReducer';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.loggedUserId;\r\n        }\r\n\r\n        this.props.setProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.refreshProfile();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <Profile savePhoto = {this.props.savePhoto} isOwner = {!this.props.match.params.userId} {...this.props} profile={this.props.profile}\r\n            status={this.props.status}\r\n            updateStatus={this.props.updateStatus} />\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    loggedUserId: state.auth.id,\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { setProfile, getStatus, updateStatus, savePhoto}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)","import React from 'react';\r\nimport classes from './Header.module.css';\r\nimport logo from '../../assets/images/logo.png'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n\r\n  return <header className={classes.header}>\r\n    <img src={logo} className={classes.img} /> <h2 className={classes.head}>webMax</h2>\r\n    <h2 className={classes.info}>{props.isAuth ?\r\n      <div className = {classes.logged}>{props.login} <a onClick = {props.logout}className={classes.logout}>Logout</a></div> : <NavLink to={'/login'} className={classes.log}>Login</NavLink>}</h2>\r\n\r\n  </header>\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from './Header';\r\nimport { setUserData, logout } from '../../Redux/auth-reducer';\r\nimport { connect } from 'react-redux';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  render() {\r\n    return <Header {...this.props}/>\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) =>({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, {setUserData, logout})(HeaderContainer);","import React from 'react';\r\nimport classes from './Nav.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport moon from './../../assets/images/moon.png'\r\nimport sun from './../../assets/images/sun.png'\r\n// import Friends from './Friends/Friends';\r\n\r\nconst Navbar = (props) =>{\r\n    return <nav className={classes.navbar}>\r\n    <div className = {classes.item}>\r\n      <NavLink to = '/profile' activeClassName = {classes.active}>Profile</NavLink>\r\n    </div>\r\n    <div className = {classes.item}>\r\n      <NavLink to = '/dialogs' activeClassName = {classes.active}>Messages</NavLink>\r\n    </div>\r\n    <div className = {classes.item}>\r\n      <NavLink to = '/news' activeClassName = {classes.active}>News</NavLink>\r\n    </div>\r\n    <div className = {classes.item}>\r\n      <NavLink to = '/music' activeClassName = {classes.active}>Music</NavLink>\r\n    </div>\r\n    <br/>\r\n    <div className = {classes.item}>\r\n      <NavLink to = '/users' activeClassName = {classes.active}>Users</NavLink>\r\n    </div>\r\n    <br/>\r\n    <div className = {classes.item}>\r\n      <NavLink to = '/settings' activeClassName = {classes.active}>Settings</NavLink>\r\n    </div>\r\n    <br/>\r\n    <div className = {classes.img}>\r\n      <img src={props.nightMode ?  moon : sun} alt=\"\" srcset=\"\" onClick = {props.setMode}/>\r\n    </div>\r\n  </nav>\r\n}\r\n\r\nexport default Navbar;","import { authUser } from \"./auth-reducer\";\r\n\r\nconst SET_INITIALIZE = 'SET_INITIALIZE';\r\nconst SET_MODE = 'SET_MODE';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n    nightMode: false\r\n};\r\n\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZE:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        case SET_MODE:\r\n            return {\r\n                ...state,\r\n                nightMode: !state.nightMode\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setInitializedSuccess = () =>\r\n    ({ type: SET_INITIALIZE });//AC -> Action Creator\r\n\r\nexport const setMode = () =>\r\n    ({ type: SET_MODE });\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    dispatch(authUser())\r\n        .then(() => {\r\n            dispatch(setInitializedSuccess());\r\n        })\r\n}\r\n\r\n\r\nexport default appReducer;","import React from 'react';\r\nimport classes from './Nav.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport moon from './../../assets/images/moon.png'\r\nimport Navbar from './Nav';\r\nimport { setMode } from '../../Redux/appReducer';\r\nimport { connect } from 'react-redux';\r\n// import Friends from './Friends/Friends';\r\n\r\nclass NavContainer extends React.Component{\r\n    render(){\r\n       return <Navbar setMode = {this.props.setMode} nightMode = {this.props.nightMode}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps =(state) =>({\r\n  nightMode: state.app.nightMode\r\n})\r\n\r\nexport default connect(mapStateToProps,\r\n  { setMode })(NavContainer);","import React, { Suspense } from 'react'\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport News from './../News/News';\r\nimport Settings from './../Settings/Settings';\r\nimport Music from './../Music/Music';\r\nimport UsersContainer from './../Users/UsersContainer';\r\nimport ProfileContainer from './../Profile/ProfileContainer';\r\nimport HeaderContainer from './../Header/HeaderContainer';\r\nimport NavContainer from '../Navbar/NavContainer';\r\nimport Preloader from '../Common/Preloader/Preloader';\r\n\r\nconst DialogsContainer = React.lazy(() => { return import('./../Dialogs/DialogContainer') });\r\nconst LoginContainer = React.lazy(() => { return import('./../Login/LoginContainer') });\r\n\r\nlet Render = (props) => {\r\n    return <div>\r\n        <canvas className={'body' + ' ' + (props.nightMode === true ? 'night' : '')}></canvas>\r\n        <div className={'wrapper' + ' ' + (props.nightMode === true ? 'nightMode' : '')}>\r\n            <HeaderContainer />\r\n            <NavContainer />\r\n            <div className='app-wrapper-content'>\r\n\r\n                <Switch>\r\n                    <Route exact path = '/' render = {()=> <Redirect to ={'/profile'} />} />\r\n                    <Route path='/profile/:userId?' render={() => <ProfileContainer />} />\r\n                    <Route exact path='/dialogs' render={() => {\r\n                        return <Suspense fallback={<Preloader />}><DialogsContainer /></Suspense>\r\n                    }} />\r\n                    <Route path='/news' render={() => <News />} />\r\n                    <Route path='/music' render={() => <Music />} />\r\n                    <Route path='/users' render={() => <UsersContainer />} />\r\n                    <Route path='/settings' render={() => <Settings />} />\r\n                    <Route path='/login' render={() => {\r\n                        return <Suspense fallback={<Preloader />}><LoginContainer /></Suspense>\r\n                    }} />\r\n                </Switch>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Render;","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Render from './Render'\r\nimport { withRouter, Redirect, Route } from 'react-router-dom'\r\nimport LoginContainer from '../Login/LoginContainer'\r\nimport { initializeApp } from '../../Redux/appReducer'\r\nimport Preloader from '../Common/Preloader/Preloader'\r\nimport classes from './Render.module.css'\r\n\r\n\r\nclass RenderContainer extends React.Component {\r\n    catchAllUnhandledErrors =(promiseRejectionEvent)=>{\r\n        alert('Error');\r\n        console.error(promiseRejectionEvent);\r\n    }\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n        window.addEventListener('unhandledrejection', function(promiseRejectionEvent){\r\n\r\n        });\r\n    }\r\n    render() {\r\n        if (!this.props.initialized) return <div className={classes.preloader}><Preloader /></div>\r\n        if (!this.props.isAuth) {\r\n            return <div>\r\n                <Redirect to='/login' />\r\n                <Route path='/login' render={() => <LoginContainer />} />\r\n            </div>\r\n        }\r\n        return <Render {...this.props} />\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        props: state.props,\r\n        initialized: state.app.initialized,\r\n        nightMode: state.app.nightMode\r\n    }\r\n}\r\nexport default withRouter(connect(mapStateToProps,\r\n    { initializeApp })(RenderContainer));","let initialState = {\r\n    friends: [\r\n        {friend: 'Mekhri'},\r\n        {friend: 'Madina'},\r\n        {friend: 'Iroda' },\r\n        {friend: 'Alyona'},\r\n        {friend: 'Katya' },\r\n        {friend: 'Feruza'},\r\n    ]\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport dialogsReducer from './DialogsReducer';\r\nimport profileReducer from './ProfileReducer';\r\nimport sidebarReducer from './SidebarReducer';\r\nimport usersReducer from './UsersReducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleWare from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from './appReducer';\r\n\r\nlet reducers = combineReducers({\r\n    messagePage: dialogsReducer,\r\n    profilePage: profileReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n}\r\n);\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleWare)));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React from 'react';\nimport './App.css';\nimport RenderContainer from './components/Render/RenderContainer';\nimport { Provider } from 'react-redux';\nimport store from './Redux/redux-store';\nimport { HashRouter } from 'react-router-dom';\n\n\n\n//Componenta that returns hypertext JSX\nconst App = (props) => {\n  return (\n    <HashRouter>\n      <Provider store={store}>\n        <RenderContainer />\n        {/* <div className={state.nightMode.nightMode === true ? 'nightMode' : ''}> */}\n        {/* <div className={'wrapper'}>\n          <HeaderContainer />\n          <Nav state={props.state} />\n          <div className='app-wrapper-content'>\n            <Route path='/profile/:userId?' render={() => <ProfileContainer />} />\n            <Route exact path='/dialogs' render={() => <DialogsContainer />} />\n            <Route path='/news' render={() => <News />} />\n            <Route path='/music' render={() => <Music />} />\n            <Route path='/users' render={() => <UsersContainer />} />\n            <Route path='/settings' render={() => <Settings />} />\n            <Route path='/login' render={() => <LoginContainer />} />\n          </div>\n        </div> */}\n        {/* </div> */}\n      </Provider>\n    </HashRouter>\n  );\n}\n\nexport default App;","import * as serviceWorker from './serviceWorker';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n      <App />\n  </React.StrictMode>,\n  document.getElementById('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { AuthAPI, Security } from \"./api/api\";\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'webmax-network/auth/SET_USER_DATA';\r\nconst TOGGLE_IS_FETCHING = 'webmax-network/auth/TOGGLE_IS_FETCHING';\r\nconst SET_CAPTCHA = 'webmax-network/auth/SET_CAPTCHA';\r\n\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null //if null captcha is not requiered\r\n};\r\n\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        case SET_CAPTCHA:\r\n            return {\r\n                ...state, captchaUrl: action.url\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setUserData = (id, email, login, isAuth) =>\r\n    ({ type: SET_USER_DATA, data: { id, email, login, isAuth } });//AC -> Action Creator\r\n\r\nexport const setCaptchaUrl = (url) =>\r\n    ({ type: SET_CAPTCHA, url });//AC -> Action Creator\r\n\r\n\r\nexport const authUser = () => async (dispatch) => {\r\n    let response = await AuthAPI.authMe();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let { id, email, login } = response.data.data;\r\n        dispatch(setUserData(id, email, login, true))\r\n\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await AuthAPI.login(email, password, rememberMe, captcha)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(authUser());\r\n    }        \r\n    else{\r\n        if(response.data.resultCode === 10){\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        let message = response.data.messages.length > 0 ?\r\n            response.data.messages[0] : 'Wrong password or email';\r\n        dispatch(stopSubmit('login',\r\n            { _error: message }));\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await AuthAPI.logout();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    let response = await Security.getCaptcha();\r\n    const url = response.data.url;\r\n    dispatch(setCaptchaUrl(url));\r\n}\r\n\r\n\r\nexport default authReducer;","module.exports = __webpack_public_path__ + \"static/media/user.220a7062.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3O6Lc\",\"head\":\"Header_head__3-P5i\",\"img\":\"Header_img__2uaA2\",\"info\":\"Header_info__3KEVg\",\"log\":\"Header_log__2xrsM\",\"logout\":\"Header_logout__1HdsC\",\"logged\":\"Header_logged__1V003\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__3uMtN\",\"form\":\"Login_form__Ftui6\",\"input\":\"Login_input__1lpeN\",\"check\":\"Login_check__2f8pO\"};","export const requiredField = (value) => {\r\n    if (value) return undefined\r\n\r\n    return \"Field is requiered!\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value && value.length>maxLength) return `Field is more than ${maxLength}!`;\r\n    return undefined;\r\n}\r\n\r\n","import React from 'react'\r\nimport classes from './FormsControl.module.css'\r\nimport { Field } from 'redux-form';\r\n\r\nexport const FormControl = ({ input, meta, ...props }) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return <div className={classes.formControl + ' ' + (hasError ? classes.error : '')}>\r\n        {props.element === 'textarea' ? <textarea {...input} {...props}/> : <input {...input} {...props}/>}\r\n        {(hasError ? <span>{meta.error}</span> : null)}\r\n    </div>\r\n}\r\n\r\nexport const createField = ({placeholder, name, validators, type, element}) =>{\r\n    return <Field placeholder = {placeholder} name = {name} \r\n    validators = {validators} component = {FormControl} type={type} element = {element}/>\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MyPost_form__3VFh0\",\"head\":\"MyPost_head__m1lGo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__21wls\",\"error\":\"FormsControl_error__2md9U\",\"form_summary_error\":\"FormsControl_form_summary_error__sE6N8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Paginator_wrap__34E6O\",\"pagination\":\"Paginator_pagination__34JQm\",\"selectedPage\":\"Paginator_selectedPage__X2vn5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__220Ei\",\"img\":\"Post_img__2EEWu\"};","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToPropsRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login' />\r\n\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectAuthRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent);\r\n\r\n    return ConnectAuthRedirectComponent;\r\n}","module.exports = __webpack_public_path__ + \"static/media/moon.fc29bc18.png\";"],"sourceRoot":""}